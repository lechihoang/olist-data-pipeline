name: order_review
layer: silver
version: "1.0.0"
description: |
  Cleaned customer review data.
  Timestamps parsed to proper types.
  Review scores validated to be 1-5.

source:
  table: bronze.order_review_raw

upstream:
  - bronze.order_review_raw

columns:
  - name: review_id
    type: string
    nullable: false
    description: Unique identifier for the review
    tags: [primary_key]

  - name: order_id
    type: string
    nullable: false
    description: Foreign key to order table
    tags: [foreign_key]

  - name: review_score
    type: integer
    nullable: false
    description: Customer satisfaction score (1-5, validated)

  - name: review_comment_title
    type: string
    nullable: true
    description: Review title (optional)

  - name: review_comment_message
    type: string
    nullable: true
    description: Review comment text (optional)

  - name: review_creation_date
    type: timestamp
    nullable: false
    description: Timestamp when review was submitted

  - name: review_answer_timestamp
    type: timestamp
    nullable: true
    description: Timestamp when review was answered/processed

metadata:
  owner: data-engineering
  created_at: "2024-01-01"
  updated_at: "2024-01-05"
